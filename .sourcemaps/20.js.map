{"version":3,"sources":["../../src/pages/checkout-hotel/checkout-hotel.module.ts","../../src/pages/checkout-hotel/checkout-hotel.ts"],"names":[],"mappings":"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","file":"20.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { CheckoutHotelPage } from './checkout-hotel';\n\n@NgModule({\n  declarations: [\n    CheckoutHotelPage\n  ],\n  imports: [\n    IonicPageModule.forChild(CheckoutHotelPage)\n    ],\n  exports: [\n    CheckoutHotelPage\n  ]\n})\n\nexport class CheckoutHotelPageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/checkout-hotel/checkout-hotel.module.ts","import {Component} from \"@angular/core\";\r\nimport {IonicPage, NavController, NavParams, LoadingController, ToastController, ActionSheetController, AlertController } from \"ionic-angular\";\r\nimport {HotelService} from \"../../providers/hotel-service\";\r\n\r\ndeclare var Stripe;\r\n\r\n@IonicPage({\r\n  name: 'page-checkout-hotel',\r\n  segment: 'checkout-hotel/:id'\r\n})\r\n\r\n\r\n@Component({\r\n  selector: 'page-checkout-hotel',\r\n  templateUrl: 'checkout-hotel.html'\r\n})\r\nexport class CheckoutHotelPage {\r\n  param: number;\r\n  // hotel info\r\n  public hotel: any;\r\n\r\n  public dateTo = new Date();\r\n  public subTotal = 0; \r\n  public tax = 0;\r\n  public total = 0;\r\n  public nPeople;\r\n  public time: string;\r\n\r\n  public paymethods = 'creditcard';\r\n  cardinfo: any = {\r\n    number: '',\r\n    expMonth: '',\r\n    expYear: '',\r\n    cvc: ''\r\n  }\r\n\r\n  constructor(public nav: NavController, public hotelService: HotelService, public navParams: NavParams, public loadingCtrl: LoadingController, public toastCtrl: ToastController, public actionSheetController: ActionSheetController, private alertCtrl: AlertController) {\r\n     \r\n    this.hotel = this.hotelService.getCartItems();\r\n    this.nPeople = this.hotel.nPeople;\r\n    this.nPeople = this.hotelService.nPeopleBooking\r\n    this.time = \"1:00 AM\"\r\n\r\n    /**\r\n    this.hotel = [\r\n      {\r\n        itemId: 12,\r\n        itemName: \"pizza\",\r\n        itemQuantity: 2,\r\n        itemPrice: 500,\r\n      },\r\n      {\r\n        itemId: 13,\r\n        itemName: \"Burger\",\r\n        itemQuantity: 1,\r\n        itemPrice: 300,\r\n      }\r\n    ]\r\n     */\r\n     \r\n       \r\n    //subtotal\r\n    this.hotel.forEach((val, i) => {\r\n      this.subTotal+= (val.itemPrice*val.itemQuantity)\r\n    });\r\n\r\n    this.subTotal = Math.round(this.subTotal)\r\n    this.tax = Math.round((12*this.subTotal)/100)\r\n    this.total =  Math.round(this.subTotal+this.tax)\r\n\r\n    console.log(\"subtotal, tax, total\", this.subTotal, this.tax, this.total)\r\n\r\n  \r\n  \r\n  \r\n  }\r\n\r\n  changeNPeople(){\r\n    console.log(\"changeNPeople called\")\r\n    this.presentActionSheetForNPeople()\r\n  }\r\n\r\n  async presentActionSheetForNPeople() {\r\n    const actionSheet = await this.actionSheetController.create({\r\n      buttons: [{\r\n        text: '2',\r\n        role: 'destructive',\r\n        icon: 'people',\r\n        handler: () => {\r\n          this.changeNPeopleMain(\"2\");\r\n        }\r\n      }, {\r\n        text: '3',\r\n        role: 'destructive',\r\n        icon: 'people',\r\n        handler: () => {\r\n          this.changeNPeopleMain(\"3\");\r\n        }\r\n      },\r\n      {\r\n        text: '5+',\r\n        role: 'destructive',\r\n        icon: 'people',\r\n        handler: () => {\r\n          this.changeNPeopleMain(\"5+\");\r\n        }\r\n      },\r\n      {\r\n        text: '8+',\r\n        role: 'destructive',\r\n        icon: 'people',\r\n        handler: () => {\r\n          this.changeNPeopleMain(\"8+\");\r\n        }\r\n      },\r\n      {\r\n        text: '10+',\r\n        role: 'destructive',\r\n        icon: 'people',\r\n        handler: () => {\r\n          this.changeNPeopleMain(\"10+\");\r\n        }\r\n      },\r\n       {\r\n        text: 'Cancel',\r\n        icon: 'close',\r\n        role: 'cancel',\r\n        handler: () => {\r\n          console.log('Cancel clicked');\r\n        }\r\n      }]\r\n    });\r\n    await actionSheet.present();\r\n  }\r\n\r\n  addTime(){\r\n    console.log(\"addtime called\")\r\n    //this.presentActionSheetForTime()\r\n    let alert = this.alertCtrl.create({\r\n      title: 'Enter Time',\r\n      inputs: [\r\n        {\r\n          name: 'time',\r\n          placeholder: 'time',\r\n          type: 'time'\r\n        }\r\n      ],\r\n      buttons: [\r\n        {\r\n          text: 'Cancel',\r\n          role: 'cancel',\r\n          handler: data => {\r\n            console.log('Cancel clicked');\r\n          }\r\n        },\r\n        {\r\n          text: 'Save',\r\n          handler: data => {\r\n            console.log(\"data\", data.time);\r\n            this.setTime(data.time)\r\n            /** \r\n            if (User.isValid(data.username, data.password)) {\r\n              // logged in!\r\n            } else {\r\n              // invalid login\r\n              return false;\r\n            }\r\n            */\r\n          }\r\n        }\r\n      ]\r\n    });\r\n    alert.present();\r\n  }\r\n\r\n  \r\n\r\n  // process send button\r\n  send() {\r\n    // send booking info\r\n    let loader = this.loadingCtrl.create({\r\n      content: \"Please wait...\"\r\n    });\r\n    // show message\r\n    let toast = this.toastCtrl.create({\r\n      showCloseButton: true,\r\n      cssClass: 'profile-bg',\r\n      message: 'Booking Success!',\r\n      duration: 3000,\r\n      position: 'bottom'\r\n    });\r\n\r\n    loader.present();\r\n\r\n    this.hotelService.bookings(this.hotel)\r\n        .then(response => {\r\n          setTimeout(() => {\r\n            loader.dismiss();\r\n            toast.present();\r\n            // back to home page\r\n            this.nav.setRoot('page-home');\r\n          }, 3000)\r\n        });\r\n        \r\n  }\r\n\r\n  changeNPeopleMain(nPeople){\r\n    console.log(\"changeNPeopleMain called\")\r\n    this.nPeople = nPeople\r\n    this.hotelService.setNPeople(nPeople);\r\n  }\r\n\r\n  setTime(time){\r\n    this.time = this.tConvert(time);\r\n  }\r\n\r\n  tConvert (time) {\r\n    // Check correct time format and split into components\r\n    time = time.toString ().match (/^([01]\\d|2[0-3])(:)([0-5]\\d)(:[0-5]\\d)?$/) || [time];\r\n \r\n     if (time.length > 1) { // If time format correct\r\n       time = time.slice (1);  // Remove full string match value\r\n       time[5] = +time[0] < 12 ? ' AM' : ' PM'; // Set AM/PM\r\n       time[0] = +time[0] % 12 || 12; // Adjust hours\r\n     }\r\n     return time.join (''); // return adjusted time or original string\r\n   }\r\n\r\n   uploadBookingToServer(){\r\n    var cart = this.hotel;\r\n    var d = new Date();\r\n    var cartId = ((d.getTime()).toString()+this.hotelService.resturantId.toString()+this.hotelService.nPeopleBooking.toString());\r\n    var timeAdded = (d.getTime())\r\n    var cartToServer = []\r\n    cart.forEach((val, i) => {\r\n      var cartEntry = {\r\n        \"itemId\": val.itemId,\r\n        \"cartId\": cartId,\r\n        \"quantity\": val.itemQuantity,\r\n        \"timeAdded\": timeAdded,\r\n        \"timeDue\": this.time,\r\n        \"nPeople\": this.nPeople,\r\n        \"userIdTag\":this.hotelService.userIdTag,\r\n        \"resId\": this.hotelService.resturantId\r\n      }\r\n      cartToServer.push(cartEntry);\r\n    });\r\n\r\n    this.uploadBookingToDatabase(cartToServer)\r\n   \r\n  }\r\n\r\n  headToBookings(){\r\n    // show message\r\n    let toast = this.toastCtrl.create({\r\n      showCloseButton: true,\r\n      cssClass: 'profile-bg',\r\n      message: 'Booking Successfull!',\r\n      duration: 600,\r\n      position: 'bottom'\r\n    });\r\n\r\n    setTimeout(() => {\r\n      toast.present();\r\n      // back to home page\r\n      //this.nav.setRoot('page-home');\r\n      this.nav.setRoot('page-booking-list');\r\n      //this.nav.pop();\r\n    }, 50)\r\n\r\n  }\r\n\r\n  uploadBookingToDatabase(aboutUser){\r\n        var _this3 = this;\r\n         var InitiateUploadUser = function(callback) // How can I use this callback?\r\n          {\r\n              var request = new XMLHttpRequest();\r\n              request.onreadystatechange = function()\r\n              {\r\n                  if (request.readyState == 4 && request.status == 200)\r\n                  {\r\n                      callback(request.responseText); // Another callback here\r\n                  }\r\n                  if (request.readyState == 4 && request.status == 0)\r\n                  {\r\n                      console.log(\"no respinse for booking\") // Another callback here\r\n                  }\r\n              }; \r\n              request.open(\"POST\", \"https://api.anomoz.com/api/allSet/post/insert_booking.php\")\r\n              request.send(JSON.stringify(aboutUser));\r\n          }\r\n          //var _this = this;\r\n          var frameUploadUser = function mycallback(data) {\r\n            console.log(\"response from server when booking,\" , data)\r\n            //window.open('https://projects.anomoz.com/allSet/bookingSuccessfull.php?resturantId='+_this3.hotelService.resturantId)\r\n            _this3.sendNotfToResTurants()\r\n            _this3.headToBookings()\r\n          }\r\n\r\n          InitiateUploadUser(frameUploadUser); //passing mycallback as a method  \r\n  }\r\n\r\n  payWithStripe(){\r\n    console.log(\" payWithStripe called\")\r\n    Stripe.setPublishableKey(\"pk_test_sdFgZctlpNxecLEyh2olufL60069lDve4C\");\r\n    let card = {\r\n      number: '4242424242424242',\r\n      expMonth: 10,\r\n      expYear: 2019,\r\n      cvc: '235'\r\n     }\r\n\r\n      try {\r\n        Stripe.card.createToken(card, (status, response) => \r\n        {\r\n          console.log(\"responseMine\", status, response)\r\n          var token = response.id\r\n          //var token = response.token\r\n          //var data = 'stripetoken=' + token + '&amount=50';\r\n          /**\r\n          var headers = new Headers();\r\n          headers.append('Conent-Type', 'application/x-www-form-urlencoded');\r\n          this.http.post('https://game.anomoz.com/api/allSet/post/insert_booking.php', data, { headers: headers }).subscribe((res) => {\r\n            console.log(\"myserver response\", res)\r\n            /**\r\n            if (res.json().success)\r\n            alert('transaction Successfull!!')\r\n             \r\n          })\r\n          */\r\n        })\r\n      }\r\n      catch (e) {\r\n        console.log(\"submitPayment - inner\", e);\r\n      }\r\n\r\n  }\r\n\r\n  removeItem(itemId){\r\n    console.log(\"rem item\", itemId)\r\n    this.hotelService.removeItemFromCart(itemId)\r\n    this.hotel = this.hotelService.getCartItems();\r\n    this.hotel.forEach((val, i) => {\r\n      this.subTotal+= (val.itemPrice*val.itemQuantity)\r\n    });\r\n\r\n    //calculations\r\n    this.subTotal = 0\r\n    //subtotal\r\n    this.hotel.forEach((val, i) => {\r\n      this.subTotal+= (val.itemPrice*val.itemQuantity)\r\n    });\r\n    this.subTotal = Math.round(this.subTotal)\r\n    this.tax = Math.round((12*this.subTotal)/100)\r\n    this.total =  Math.round(this.subTotal+this.tax)\r\n\r\n    console.log(\"subtotal, tax, total\", this.subTotal, this.tax, this.total)\r\n\r\n  }\r\n\r\n  \r\n\r\n  sendNotfToResTurants(){\r\n    var _this5 = this;\r\n     var InitiateUploadUser = function(callback) // How can I use this callback?\r\n      {\r\n          var request = new XMLHttpRequest();\r\n          request.onreadystatechange = function()\r\n          {\r\n              if (request.readyState == 4 && request.status == 200)\r\n              {\r\n                  callback(request.responseText); // Another callback here\r\n              }\r\n              if (request.readyState == 4 && request.status == 0)\r\n              {\r\n                  console.log(\"no respinse for booking\") // Another callback here\r\n              }\r\n          }; \r\n          request.open(\"POST\", \"https://api.anomoz.com/api/allSet/post/sendNofttoRes.php?vendorId=\"+_this5.hotelService.resturantId)\r\n          request.send();\r\n      }\r\n      //var _this = this;\r\n      var frameUploadUser = function mycallback(data) {\r\n        //console.log(\"response from server when sending notf,\" , data)\r\n        //window.open('https://projects.anomoz.com/allSet/bookingSuccessfull.php?resturantId='+_this3.hotelService.resturantId)\r\n      }\r\n\r\n      InitiateUploadUser(frameUploadUser); //passing mycallback as a method  \r\n}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/checkout-hotel/checkout-hotel.ts"],"sourceRoot":""}