{"version":3,"sources":["../../src/pages/login/login.module.ts","../../src/pages/login/login.ts"],"names":[],"mappings":"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","file":"18.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { LoginPage } from './login';\n\n@NgModule({\n  declarations: [\n    LoginPage\n  ],\n  imports: [\n    IonicPageModule.forChild(LoginPage)\n  ],\n  exports: [\n    LoginPage\n  ]\n})\n\nexport class LoginPageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.module.ts","import {Component, OnInit} from \"@angular/core\";\nimport {FormGroup, Validators, FormBuilder} from '@angular/forms';\nimport {IonicPage, NavController, AlertController, ToastController, MenuController} from \"ionic-angular\";\nimport {HotelService} from \"../../providers/hotel-service\";\n\n\n@IonicPage({\n  name: 'page-login',\n  segment: 'login',\n})\n\n@Component({\n  selector: 'page-login',\n  templateUrl: 'login.html'\n})\nexport class LoginPage implements OnInit {\n  email = \"\"\n  password = \"\"\n  public onLoginForm: FormGroup;\n\n  constructor(private _fb: FormBuilder, public nav: NavController, public forgotCtrl: AlertController, public menu: MenuController, public toastCtrl: ToastController,  private hotelService: HotelService) {\n\n  }\n\n  ngOnInit() {\n    this.onLoginForm = this._fb.group({\n      email: ['', Validators.compose([\n        Validators.required\n      ])],\n      password: ['', Validators.compose([\n        Validators.required\n      ])]\n    });\n  }\n\n  // go to register page\n  register() {\n    this.nav.setRoot('page-register');\n  }\n\n  // login and go to home page\n  login(email, password) {\n    //this.nav.setRoot('page-home');\n    console.log(\"--\", email, password)\n    this.getUserFromServer(email, password);\n  }\n\n\n  getUserFromServer(email, password){\n    var InitiateGetTransactions = function(email, password, callback) // How can I use this callback?\n     {\n         var request = new XMLHttpRequest();\n         request.onreadystatechange = function()\n         {\n             if (request.readyState == 4 && request.status == 200)\n             {\n                 callback(request.responseText); // Another callback here\n             }\n             if (request.readyState == 4 && request.status == 0)\n             {\n                 //console.log(\"no response for resturants\") // Another callback here\n             }\n         }; \n         //console.log(\"sending _this.userIdTag to server\", userIdTag)\n         console.log(\"sending request\", \"https://game.anomoz.com/api/allSet/post/get_user.php?email=\"+email+\"&password=\"+password);\n\n         request.open(\"POST\", \"https://game.anomoz.com/api/allSet/post/get_user.php?email=\"+email+\"&password=\"+password);\n         request.send();\n     }\n     \n     var _this = this;\n     var frameTransactions = function mycallback(data) {\n       console.log(\"user data received from server,\" , data)\n       var dataParsed\n       dataParsed = JSON.parse(data);\n       if(dataParsed.message==\"none\"){\n         console.log(\"no user\")\n       }\n       else{\n        _this.hotelService.storeSignupData(dataParsed[0].name, email, password, dataParsed[0].userIdTag);\n        _this.nav.setRoot('page-hotel');   \n        //console.log(sampleTrans)\n           \n          \t\n          }\n          //add to local storage\n          //console.log(\"bookings storage updated\", _this.bookings)\n          //_this.storage.set('resturants', _this.hotels);\n       }\n     \n     InitiateGetTransactions(email, password, frameTransactions); //passing mycallback as a method \n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.ts"],"sourceRoot":""}